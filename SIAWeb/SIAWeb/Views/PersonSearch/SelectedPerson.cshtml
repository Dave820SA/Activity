@model IEnumerable<SIAWeb.Models.PersonInfo>
@{
    ViewBag.Title = "SelectedPerson";
    Layout = "~/Views/Shared/_Alternate2.cshtml";
}

 @foreach (var pInfo in Model)
 {



@*<br>*@
<div class="col-md-12">  
    <div class="col-md-4">      
        <div class="portlet light profile-sidebar-portlet bordered">
            <div class="profile-userpic">
                <img src="~/Images/Male.png" class="img-responsive" alt=""> </div>
            <div class="profile-usertitle">
                @{
     if (!String.IsNullOrEmpty(pInfo.Badge))
     {
         string person = string.Format("{0} {1} #{2}", pInfo.First, pInfo.Last, pInfo.Badge);
                        <div class="profile-usertitle-name">
                            @Html.Raw(person.ToUpper())
                        </div>
                    @*<h3></h3> *@
     }
     else
     {
         string person = string.Format("{0} {1}", pInfo.First, pInfo.Last);
                        <div class="profile-usertitle-name">
                            @Html.Raw(person.ToUpper())
                        </div>
     }               
                }
                
                <div class="profile-usertitle-job">
                    @Html.Raw(pInfo.JobTitle.ToUpper())
                </div>
            </div>
            <div class="profile-userbuttons">
                &nbsp;
                @*<button type="button" class="btn btn-info  btn-sm">Follow</button>
                <button type="button" class="btn btn-info  btn-sm">Message</button>*@
            </div>
            @*<div class="profile-usermenu">
                <ul class="nav">
                    <li class="active">
                        <a href="#">
                            <i class="icon-home"></i> Ticket List </a>
                    </li>
                    <li>
                        <a href="#">
                            <i class="icon-settings"></i> Support Staff </a>
                    </li>
                    <li>
                        <a href="#">
                            <i class="icon-info"></i> Configurations </a>
                    </li>
                </ul>
            </div>*@
        </div>
    </div>
    <div class="col-md-8"> 
        <div class="portlet light bordered">
            <div class="portlet-title tabbable-line">
                <div class="caption caption-md">
                    <i class="icon-globe theme-font hide"></i>
                    <span class="caption-subject font-blue-madison bold uppercase">SAPD Activity info</span>
                </div>
            </div>
            <div class="portlet-body">
                <div>
                
                    <!-- Nav tabs -->
                    <ul class="nav nav-tabs" role="tablist">
                        <li role="presentation" class="active"><a href="#home" aria-controls="home" role="tab" data-toggle="tab">Profile</a></li>
                        <li role="presentation"><a href="#profile" aria-controls="profile" role="tab" data-toggle="tab">Badge Hist</a></li>
                        @*<li role="presentation"><a href="#messages" aria-controls="messages" role="tab" data-toggle="tab">Messages</a></li>
                        <li role="presentation"><a href="#settings" aria-controls="settings" role="tab" data-toggle="tab">Settings</a></li>*@
                    </ul>
                
                    <!-- Tab panes -->
                    <div class="tab-content">
                        <div role="tabpanel" class="tab-pane active" id="home">
                            
                            @*<p style="margin-top: 10px">Employee's basic information</p>*@
                            <table class="table table-striped table-bordered table-condensed" style="border-top-style: solid; border-width: thin; border-color: #C0C0C0;margin-top: 2px">
                                <tbody>
                                    <tr>
                                        <td width="150px">
                                            
                                            Duty Status:
                                        </td>
                                        <td style="color: #5b9bd1; font-size: 1.2em;">
                                            @Html.DisplayFor(modelItem => pInfo.Status)
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            Office:
                                        </td>
                                        <td style="color: #5b9bd1; font-size: 1.2em;">
                                        @{
                                            string office = string.Format("{0} - {1}", pInfo.Office, pInfo.OfficeCode);
                        
                                                @Html.Raw(office.ToUpper())
                                        }
                        
                                           
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            RD's:
                                        </td>
                                       <td style="color: #5b9bd1; font-size: 1.2em;">
                                            @Html.DisplayFor(modelItem => pInfo.RD)
                                        </td>
                                    </tr>
                                     <tr>
                                        <td>
                                            SAP:
                                        </td>
                                       <td style="color: #5b9bd1; font-size: 1.2em;">
                                            @Html.DisplayFor(modelItem => pInfo.SAP)
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            Employeed:
                                        </td>
                                        <td style="color: #5b9bd1; font-size: 1.2em;">
                                            @{
                                            DateTime sdate = pInfo.Employeed;
                                            DateTime edate = DateTime.Today;
                                            var yrDiff = (((TimeSpan)(edate - sdate)).TotalDays / 365.2425);
                                            double yrs = Math.Round(yrDiff, 1);

                                            System.Text.StringBuilder sb = new System.Text.StringBuilder();

                                            sb.Append(pInfo.Employeed.ToShortDateString());
                                            sb.Append("&nbsp;-- &nbsp;&nbsp;<span style=\"color: #FFFFFF\">Services Years:</span>&nbsp;&nbsp;");
                                            sb.Append(yrs.ToString());

                        
                                                @Html.Raw(sb)
                                            }
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            Email:
                                            <br />
                                            <span style="font-size: xx-small; color: #FFFF00">Click to email employee</span>
                                        </td>
                                       <td style="color: #5b9bd1; font-size: 1.2em;">
                                            @foreach (var email in pInfo.Emails)
                                            {
                                                System.Text.StringBuilder eSb = new System.Text.StringBuilder();
                                                eSb.Append("<span style=\"color: #FFFFFF\">");
                                                eSb.Append(@Html.DisplayFor(modelItem => email.AddressType));
                                                eSb.Append("</span>");
                                                eSb.Append("&nbsp;-- &nbsp;");
                                                var newemail = string.Format("<a href='mailto:{0}'>{0}</a>", @Html.DisplayFor(modelItem => email.userEmailAddress));
                                                eSb.Append(newemail);
                                                eSb.Append("<br>");
                                                 @Html.Raw(eSb)
                                            }
                                            
                                         
                                        </td>
                                    </tr>
                                    
                                    
                                    
                                </tbody>
                            </table>
                        </div>

                            @*<form>
                              <div class="form-group">
                                <label for="inputName">Name</label>
                                <input type="text" class="form-control" id="inputName" placeholder="Name">
                              </div>
                                <div class="form-group">
                                <label for="inputLastName">Last Name</label>
                                <input type="text" class="form-control" id="inputLastName" placeholder="Last Name">
                              </div>
                              <div class="form-group">
                                <label for="exampleInputEmail1">Email address</label>
                                <input type="email" class="form-control" id="exampleInputEmail1" placeholder="Email">
                              </div>
                              <div class="form-group">
                                <label for="exampleInputPassword1">Password</label>
                                <input type="password" class="form-control" id="exampleInputPassword1" placeholder="Password">
                              </div>
                              <div class="form-group">
                                <label for="exampleInputFile">File input</label>
                                <input type="file" id="exampleInputFile">
                                <p class="help-block">Example block-level help text here.</p>
                              </div>
                              <div class="checkbox">
                                <label>
                                  <input type="checkbox"> Check me out
                                </label>
                              </div>
                              <button type="submit" class="btn btn-default">Submit</button>
                            </form>*@
                        
                        <div role="tabpanel" class="tab-pane" id="profile">Profile</div>
                        <div role="tabpanel" class="tab-pane" id="messages">Messages</div>
                        <div role="tabpanel" class="tab-pane" id="settings">Settings</div>
                    </div>
                
                </div>
            </div>
        </div>
    </div>
</div>
     
 }